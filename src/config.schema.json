{
    "type": "object",
    "properties": {
        "port": { "type": "number" }, // The listen port.
        "libraryPath": { "type": "string" }, // Path to the source library.
        "cachePath": { "type": "string" }, // Path to store thumbnails and cached media.
        "username": { "type": "string" }, // Optional clear-text login username.
        "password": { "type": "string" }, // Optional clear-text login password.
        "database": {
            "anyOf": [
                {
                    "type": "object",
                    "properties": {
                        // Provider currently must be MongoDB.
                        "provider": { "type": "string", "enum": ["mongodb"] },
                        "host": { "type": "string" },
                        "port": { "type": "number" },
                        "username": { "type": "string" },
                        "password": { "type": "string" },
                        "database": { "type": "string" }
                    },
                    "required": [ "provider", "host", "database" ],
                    "additionalProperties": false
                }
            ]
        },
        // Settings to use during video transcoding.
        "transcoder": {
            "type": "object",
            "properties": {
                // If source quality = target quality (no scaling) and the source codec is h264, set to true to copy the video directly.
                // Currently that is the default behaviour. This is faster but uses more space.
                "maxCopyEnabled": { "type": "boolean" },
                // Minimum source qualtiy to bother transcoding down from. Eg if minQuality is 480p and 240p is requested and the source is 480p
                // then just do 480p instead. However if the source is 720p, then transcode it to the targetted quality (240p).
                // Set to 0 to disable.
                "minQuality": { "type": "number" },
                // An array of qualities to transcode to in heights.
                "qualities": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    }
                }
            },
            "additionalProperties": false,
            "required": [ "maxCopyEnabled", "minQuality", "qualities" ]
        },
        // Settings to persist across UI sessions.
        "user": {
            "type": "object",
            "properties": {
                // Enable autoplay if possible on desktop browsers. (Will always start muted).
                "autoplayEnabled": { "type": "boolean" },
                // The number of columns to display in the quick-tag panel.
                "tagColumnCount": { "type": "number" },
                // If enabled updates the URL with the applications state. This means it's possible
                // to bookmark search results or the currently accessed media.
                "stateEnabled": { "type": "boolean" },
                // If true lowers the quality on seek and initial load for desktop browsers.
                // This allows faster loading and skipping around. Might want to set to true
                // when using the application remotely.
                "lowQualityOnLoadEnabled": { "type": "boolean" },
                // If true lowers the quality on seek and initial load for mobile browsers.
                // Recommended to be true.
                "lowQualityOnLoadEnabledForMobile": { "type": "boolean" }
            },
            "additionalProperties": false,
            "required": [ "tagColumnCount", "stateEnabled", "lowQualityOnLoadEnabled", "lowQualityOnLoadEnabledForMobile" ]
        }
    },
    "additionalProperties": false,
    "required": [ "port", "libraryPath", "cachePath", "database", "transcoder", "user" ]
}
